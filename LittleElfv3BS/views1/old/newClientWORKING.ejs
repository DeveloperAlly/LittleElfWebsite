

<% include partials/header.ejs %>

<div class='ui main text container segment'>
  <div class='ui huge header'> New Client Signup</div>
  <form class='ui form' action='/registerNewClient' method='POST'>
    <div
    <% if (errors[errors.findIndex(x => x.param == 'email')] ) { %>
      class='error'
    <% } else { %>
      class='field'
    <% } %>
    >
      <label>Email</label>
      <input type='email' name='email' placeholder="email" value= <%= user.email %> >
    </div>
    <div class='two fields'>
      <div class='field'>
        <div
        <% if (errors[errors.findIndex(x => x.param == 'firstName')] ) { %>
          class='error'
        <% } else { %>
          class='field'
        <% } %>
        >
        <label>First Name</label>
        <input type='text' name='firstName' placeholder="first name" value=<%= user.firstName %> >
      </div>
      </div>
      <div class='field'>
        <div
        <% if (errors[errors.findIndex(x => x.param == 'lastName')] ) { %>
          class='error'
        <% } else { %>
          class='field'
        <% } %>
        >
        <label>Last Name</label>
        <input type='text' name='lastName' placeholder="last name" value=<%= user.lastName %>>
      </div>
      </div>
    </div>
    <div
    <% if (errors[errors.findIndex(x => x.param == 'phone')] ) { %>
      class='error'
    <% } else { %>
      class='field'
    <% } %>
    >
      <label>Phone Number</label>
      <input type='text' name='phone' placeholder="phone number" value=<%= user.phone %>>
    </div>
    <div class=''</div>
    <div class='two fields'>
      <div class='field'>
        <div
        <% if (errors[errors.findIndex(x => x.param == 'password')] ) { %>
          class='error'
        <% } else { %>
          class='field'
        <% } %>
        >
        <label>Password </label>
        <input type='password' name='password' placeholder="password - min 6 chars, 1 letter & 1 number">
      </div>
    </div>
    <div class='field'>
      <div
      <% if (errors[errors.findIndex(x => x.param == 'password2' || 'password')] ) { %>
        class='error'
      <% } else { %>
        class='field'
      <% } %>
      >
        <label>Confirm Password </label>
        <input type='password' name='password2' placeholder="confirm password ">
      </div>
    </div>
    </div>
    <div class='field'>
      <input class='ui violet big basic button' type='submit'>
    </div>
    <% if (errors.length > 0) { %>
      <div class="ui negative message">
        <p><strong> Sorry! Please fix the following errors </strong></p>
          <ul class="list">
            <% errors.forEach(function(error){ %>
              <li><%= error.msg %></li>
            <% }) %>
          </ul>
      </div>
    <% } else { %>

    <% } %>

  </form>
</div>

<% include partials/footer.ejs %>
